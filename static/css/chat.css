/* ═══════════════════════════════════════
   SEIA Chat Interface Styles
═══════════════════════════════════════ */
 
.chat-layout {
  display: grid;
  grid-template-columns: 260px 1fr;
  height: calc(100vh - 64px);
  margin-top: 64px;
}
 
/* ── Sidebar ── */
.chat-sidebar {
  background: var(--deep);
  border-right: 1px solid rgba(29,110,245,.1);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}
.sidebar-section {
  padding: 20px 16px 8px;
  font-size: .65rem;
  font-family: 'Orbitron', monospace;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--dim);
}
.sidebar-mode-btn {
  display: flex; align-items: center; gap: 10px;
  padding: 11px 16px;
  border-radius: 7px;
  margin: 2px 8px;
  cursor: pointer;
  font-size: .82rem; font-weight: 500;
  color: var(--muted);
  transition: all .2s;
  border: 1px solid transparent;
}
.sidebar-mode-btn:hover { background:rgba(29,110,245,.06); color:var(--white); }
.sidebar-mode-btn.active { background:rgba(29,110,245,.1); color:var(--white); border-color:rgba(29,110,245,.2); }
.mode-dot { width:8px; height:8px; border-radius:50%; flex-shrink:0; }
 
.sidebar-actions { padding:16px; margin-top:auto; border-top:1px solid rgba(29,110,245,.08); display:flex; flex-direction:column; gap:8px; }
.sidebar-action-btn {
  display:flex; align-items:center; gap:8px;
  padding:9px 14px;
  border-radius:7px;
  font-size:.78rem; font-weight:500;
  color:var(--muted);
  background:transparent;
  border:none; cursor:pointer;
  text-decoration:none;
  transition:all .2s;
  width:100%;
}
.sidebar-action-btn:hover { background:rgba(29,110,245,.06); color:var(--blue-light); }
.sidebar-action-btn.danger:hover { background:rgba(239,68,68,.06); color:#f87171; }
 
/* ── Main chat area ── */
.chat-main {
  display: flex;
  flex-direction: column;
  background: var(--void);
  position: relative;
  overflow: hidden;
}
 
/* subtle grid bg */
.chat-main::before {
  content: '';
  position: absolute; inset: 0;
  background-image:
    linear-gradient(rgba(29,110,245,.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(29,110,245,.04) 1px, transparent 1px);
  background-size: 60px 60px;
  pointer-events: none; z-index:0;
}
 
.chat-header-bar {
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 24px;
  background:rgba(7,13,31,.85);
  backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(29,110,245,.08);
  position:relative; z-index:1;
}
.chat-header-left { display:flex; align-items:center; gap:14px; }
.chat-avatar {
  width:40px; height:40px; border-radius:10px;
  background:linear-gradient(135deg,rgba(29,110,245,.2),rgba(6,182,212,.15));
  border:1px solid rgba(29,110,245,.25);
  display:flex; align-items:center; justify-content:center;
  font-size:1.1rem;
}

.chat-avatar img { 
  width:100%; 
  height:100%; 
  object-fit:cover; 
  border-radius:10px; 
}

.chat-name { font-family:'Orbitron',monospace; font-size:.85rem; font-weight:700; color:var(--white); }
.chat-status { display:flex; align-items:center; gap:5px; font-size:.72rem; color:var(--muted); margin-top:2px; }
.status-dot { width:6px; height:6px; border-radius:50%; background:var(--green); box-shadow:0 0 6px var(--green); animation:pulse 2s infinite; }
@keyframes pulse { 0%,100%{opacity:1}50%{opacity:.5} }
.chat-header-right { display:flex; align-items:center; gap:10px; }
 
/* voice wave bars */
.voice-indicator { display:flex; align-items:center; gap:3px; height:20px; }
.vi-bar { width:3px; border-radius:2px; background:var(--blue-glow); animation:viWave 1.2s ease-in-out infinite; }
.vi-bar:nth-child(1){height:8px;} .vi-bar:nth-child(2){height:16px;animation-delay:.1s;}
.vi-bar:nth-child(3){height:20px;animation-delay:.2s;} .vi-bar:nth-child(4){height:14px;animation-delay:.3s;}
.vi-bar:nth-child(5){height:8px;animation-delay:.4s;}
@keyframes viWave{0%,100%{transform:scaleY(1)}50%{transform:scaleY(.3)}}
.voice-indicator.hidden { display:none; }
 
/* ── Messages ── */
.chat-window {
  flex:1; overflow-y:auto;
  padding:24px 24px 12px;
  display:flex; flex-direction:column; gap:14px;
  position:relative; z-index:1;
  -ms-overflow-style:none; scrollbar-width:none;
}
.chat-window::-webkit-scrollbar { display:none; }
 
.chat-bubble {
  max-width:75%; padding:13px 16px;
  border-radius:16px;
  font-size:.88rem; line-height:1.65;
  word-break:break-word;
  animation:bubbleIn .25s ease;
  position:relative;
}
@keyframes bubbleIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:none} }
 
.chat-bubble.user {
  align-self:flex-end;
  background:linear-gradient(135deg,var(--blue),#0e4fd4);
  color:white;
  border-bottom-right-radius:4px;
  box-shadow:0 4px 16px rgba(29,110,245,.25);
}
.chat-bubble.bot {
  align-self:flex-start;
  background:var(--card);
  border:1px solid var(--edge);
  color:var(--white);
  border-bottom-left-radius:4px;
}
.bubble-meta {
  display:flex; align-items:center; gap:8px;
  margin-bottom:6px;
}
.bubble-mode-dot { width:7px; height:7px; border-radius:50%; flex-shrink:0; }
.bubble-time { font-size:.65rem; color:var(--dim); }
 
/* code in bubbles */
.chat-bubble code {
  background:rgba(29,110,245,.15);
  border:1px solid rgba(29,110,245,.2);
  border-radius:4px;
  padding:1px 6px;
  font-family:'Courier New',monospace;
  font-size:.82em;
  color:var(--blue-pale);
}
.chat-bubble pre {
  background:rgba(0,0,0,.3);
  border:1px solid rgba(29,110,245,.15);
  border-radius:8px;
  padding:12px;
  overflow-x:auto;
  margin:8px 0;
  font-family:'Courier New',monospace;
  font-size:.8em;
  color:var(--blue-pale);
}
 
/* typing indicator */
.typing-indicator {
  display:inline-flex; align-items:center; gap:5px;
  padding:13px 18px;
}
.typing-indicator span {
  width:7px; height:7px; border-radius:50%;
  background:var(--blue-light);
  animation:typingBounce 1.3s ease-in-out infinite;
}
.typing-indicator span:nth-child(2){animation-delay:.18s;}
.typing-indicator span:nth-child(3){animation-delay:.36s;}
@keyframes typingBounce{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-8px)}}
 
/* ── Mode switch notification ── */
.mode-switch-notif {
  align-self:center;
  padding:7px 16px;
  background:rgba(29,110,245,.08);
  border:1px solid rgba(29,110,245,.2);
  border-radius:50px;
  font-size:.75rem;
  color:var(--blue-light);
  font-family:'Orbitron',monospace;
  letter-spacing:.5px;
  animation:bubbleIn .3s ease;
}
 
/* ── Input area ── */
.chat-input-area {
  padding:16px 24px 20px;
  background:rgba(7,13,31,.85);
  backdrop-filter:blur(12px);
  border-top:1px solid rgba(29,110,245,.08);
  position:relative; z-index:1;
}
.chat-input-row {
  display:flex; gap:10px; align-items:flex-end;
}
.chat-input-wrap {
  flex:1; position:relative;
  background:var(--panel);
  border:1px solid var(--edge);
  border-radius:10px;
  transition:border-color .25s, box-shadow .25s;
}
.chat-input-wrap:focus-within {
  border-color:var(--blue-glow);
  box-shadow:0 0 0 3px rgba(29,110,245,.1);
}
#user-input {
  width:100%; padding:13px 16px;
  background:transparent; border:none; outline:none;
  color:var(--white);
  font-family:'Syne',sans-serif; font-size:.9rem;
  resize:none; max-height:120px;
  line-height:1.5;
}
#user-input::placeholder { color:var(--dim); }
 
.chat-action-btns {
  display:flex; gap:8px; align-items:center;
}
.mic-btn, .send-btn {
  width:44px; height:44px; border-radius:9px;
  border:none; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  font-size:1.1rem;
  transition:all .25s;
  flex-shrink:0;
}
.send-btn {
  background:var(--blue);
  box-shadow:0 0 16px rgba(29,110,245,.35);
}
.send-btn:hover { box-shadow:0 0 28px rgba(29,110,245,.6); transform:scale(1.05); }
.mic-btn {
  background:var(--panel);
  border:1px solid var(--edge);
  color:var(--muted);
}
.mic-btn:hover { border-color:var(--blue-glow); color:var(--blue-light); }
.mic-btn.listening {
  background:rgba(239,68,68,.1);
  border-color:rgba(239,68,68,.4);
  color:#f87171;
  box-shadow:0 0 16px rgba(239,68,68,.25);
}
 
.voice-mode-btn {
  padding:8px 14px; border-radius:7px;
  border:1px solid var(--edge);
  background:var(--panel);
  color:var(--muted); font-size:.75rem; font-weight:600;
  cursor:pointer; transition:all .25s;
  white-space:nowrap;
}
.voice-mode-btn.active {
  border-color:rgba(6,182,212,.4);
  background:rgba(6,182,212,.08);
  color:var(--cyan);
}
 
.chat-hints {
  display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;
}
.hint-pill {
  padding:4px 12px;
  background:rgba(29,110,245,.05);
  border:1px solid rgba(29,110,245,.12);
  border-radius:50px;
  font-size:.72rem; color:var(--dim);
  cursor:pointer; transition:all .2s;
}
.hint-pill:hover { background:rgba(29,110,245,.1); color:var(--blue-light); border-color:rgba(29,110,245,.3); }
 
/* ── Welcome screen ── */
.chat-welcome {
  display:flex; flex-direction:column; align-items:center;
  justify-content:center; flex:1;
  text-align:center; padding:40px;
  position:relative; z-index:1;
}
.welcome-orb {
  width:90px; height:90px; border-radius:50%;
  background:radial-gradient(circle,rgba(29,110,245,.2),rgba(6,182,212,.1));
  border:2px solid rgba(29,110,245,.25);
  display:flex; align-items:center; justify-content:center;
  font-size:2.2rem; margin-bottom:24px;
  animation:welcomePulse 3s ease-in-out infinite;
  box-shadow:0 0 0 0 rgba(29,110,245,.15);
}
@keyframes welcomePulse{0%,100%{box-shadow:0 0 0 0 rgba(29,110,245,.15)}50%{box-shadow:0 0 0 20px rgba(29,110,245,0)}}

.welcome-orb img {
  width:100%;
  object-fit:cover;
  border-radius:50%;
}

.welcome-title {
  font-family:'Orbitron',monospace;
  font-size:1.4rem; font-weight:700;
  color:var(--white); margin-bottom:10px;
}
.welcome-sub { font-size:.88rem; color:var(--muted); line-height:1.7; max-width:380px; }
.welcome-modes {
  display:flex; gap:10px; flex-wrap:wrap; justify-content:center;
  margin-top:28px;
}
 
/* ── Responsive ── */
@media(max-width:768px) {
  .chat-layout { grid-template-columns:1fr; }
  .chat-sidebar { display:none; }
  .chat-bubble { max-width:90%; }
}